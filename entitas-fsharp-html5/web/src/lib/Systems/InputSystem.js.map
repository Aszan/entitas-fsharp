{"version":3,"sources":["../../../../lib/Systems/InputSystem.fs"],"names":[],"mappings":";;;;;;;;;;AAkBY;AAAK;;AACH,qCAGE;AACI;AAAc;;AAClB,oBAAG,0BAAH,EACI;AAAA,sDAAc,kBAAd;;AACA,wBAAG,eAAH,EACI;AAAA,uCAAe,kBAAf;AACA,uCAAe,kBAAf;AACA;AAAiB;;AAJrB;AAKW,iBANf,MAQI;AAAA,qCACI;AAAA,0DAAc,kBAAd;;AACA,4BAAG,eAAH,EACI;AAAA,2CAAe,kBAAf;AACA,2CAAe,kBAAf;AACA;AAAiB;;AAJrB;AAKW,qBANf;AAAA;AAAA;AAQe;AAjBJ,aAAX;;AAoBR;AArBY,SAHV;AAAA;AAAA;AADA","file":"InputSystem.js","sourcesContent":["namespace Systems\n\n#if HTML5\nopen Fable.Core\nopen Fable.Import\nopen Fable.Import.Browser\nopen Fable.Core.JsInterop\nopen Bosco\n#endif\nopen Components\nopen Entities\nopen System.Collections.Generic\n\n[<AutoOpen>]\nmodule InputSystemModule =\n    let mutable timeToFire = 0.0\n    (** Get Player Input *)\n    let InputSystem (delta:float, mobile:bool, game:SystemInterface) entity =\n        let pf = if mobile then 2.0 else 1.0\n        match entity.EntityType with\n        | EntityType.Player -> \n\n            let position =\n                let newPosition = Mouse.position\n                if Keyboard.isPressed 90 then\n                    timeToFire <- timeToFire - delta\n                    if timeToFire <= 0.0 then\n                        game.AddBullet(newPosition.x-27.0, newPosition.y)\n                        game.AddBullet(newPosition.x+27.0, newPosition.y)\n                        timeToFire <- 0.1\n                    newPosition\n                else\n                    if Mouse.down then\n                        timeToFire <- timeToFire - delta\n                        if timeToFire <= 0.0 then\n                            game.AddBullet(newPosition.x-27.0, newPosition.y)\n                            game.AddBullet(newPosition.x+27.0, newPosition.y)\n                            timeToFire <- 0.1\n                        newPosition\n                    else\n                        newPosition\n\n            (* Set Player Position *)\n            { entity with Position = position;  }\n        | _ ->\n            entity\n"]}