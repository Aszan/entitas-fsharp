{"version":3,"sources":["../../../../lib/Systems/ExpiringSystem.fs"],"names":[],"mappings":";;;;;;;;AAqBc;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AACJ;AACY;AACG,6BAAG,OAAH;AAHX;AAIF;AAJ+B,aAA7B;AAAA;AAA6B;AAAA,SAA7B;AAAA;AAA6B;AAAA","file":"ExpiringSystem.js","sourcesContent":["namespace Systems\n\n#if HTML5\nopen Fable.Core\nopen Fable.Import\nopen Fable.Import.Browser\nopen Fable.Core.JsInterop\nopen Bosco\n#endif\nopen Components\nopen Entities\nopen System.Collections.Generic\n\n[<AutoOpen>]\nmodule ExpiringSystemModule =\n    (** \n    * Expiring System \n    *\n    * Destroy entities when their time is up\n    *)\n    let ExpiringSystem (delta:float) entity =\n        match entity.Expires, entity.Active with\n        | Some(v), true ->\n            let exp = v - delta\n            let active = if exp > 0. then true else false\n            { \n                entity with \n                    Expires = Some(exp);\n                    Active = active;\n            }\n        | _ -> entity\n"]}